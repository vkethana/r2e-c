Running command: chmod +x build.sh && ./build.sh
PREFIX set to '/tmp/tcpdump_build.lydjKEci'
gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0
Copyright (C) 2019 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
Compiler identification: gcc-9.4.0
$ ./autogen.sh
autoreconf identification: 2.69
$ ./configure --with-crypto=no --enable-smb=no --prefix=/tmp/tcpdump_build.lydjKEci --disable-local-libpcap
checking build system type... x86_64-pc-linux-gnu
checking host system type... x86_64-pc-linux-gnu
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking for gcc option to accept ISO C99... none needed
checking how to run the C preprocessor... gcc -E
checking for grep that handles long lines and -e... /usr/bin/grep
checking for egrep... /usr/bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking rpc/rpc.h usability... yes
checking rpc/rpc.h presence... yes
checking for rpc/rpc.h... yes
checking rpc/rpcent.h usability... no
checking rpc/rpcent.h presence... no
checking for rpc/rpcent.h... no
checking size of void *... 8
checking size of time_t... 8
checking for pkg-config... /usr/bin/pkg-config
checking pkg-config is at least version 0.17.0... yes
checking for brew... no
checking smi.h usability... no
checking smi.h presence... no
checking for smi.h... no
checking whether to enable the instrument functions code... no
checking whether to enable the possibly-buggy SMB printer... no
checking whether to drop root privileges by default... no
checking whether to chroot... no
checking sys/capsicum.h usability... no
checking sys/capsicum.h presence... no
checking for sys/capsicum.h... no
checking for cap_init in -lcasper... no
checking for cap_gethostbyaddr in -lcap_dns... no
checking whether to sandbox using capsicum... no
checking whether to sandbox using Casper library... no
checking for gethostbyaddr... yes
checking for strlcat... no
checking for strlcpy... no
checking for strsep... yes
checking for getservent... yes
checking for getopt_long... yes
checking for fork... yes
checking for vfork... yes
checking whether snprintf is suitable... yes
checking for main in -lrpc... no
checking for library containing getrpcbynumber... none required
checking whether to look for a local libpcap... no
checking for libpcap with pkg-config... found
checking for pcap_loop... yes
checking for ether_ntohost... yes
checking whether ether_ntohost is declared... no
checking whether ether_ntohost is declared... yes
checking for buggy ether_ntohost... no
checking for pcap_create... yes
checking for pcap_set_tstamp_type... yes
checking for pcap_set_tstamp_precision... yes
checking for pcap_set_immediate_mode... yes
checking for pcap_dump_ftell64... yes
checking for pcap_open... no
checking for pcap_findalldevs_ex... no
checking for pcap_set_parser_debug... no
checking whether pcap_debug is defined by libpcap... no
checking whether yydebug is defined by libpcap... no
checking for pcap_set_optimizer_debug... no
checking for bpf_dump... yes
checking pcap/pcap-inttypes.h usability... yes
checking pcap/pcap-inttypes.h presence... yes
checking for pcap/pcap-inttypes.h... yes
checking for u_int8_t... yes
checking for u_int16_t... yes
checking for u_int32_t... yes
checking for u_int64_t... yes
checking for ranlib... ranlib
checking for ar... ar
checking whether to use OpenSSL/libressl libcrypto... no
checking whether to use libcap-ng... yes, if available
checking for capng_change_id in -lcap-ng... no
checking cap-ng.h usability... no
checking cap-ng.h presence... no
checking for cap-ng.h... no
checking for a BSD-compatible install... /usr/bin/install -c
configure: creating ./config.status
config.status: creating Makefile
config.status: creating tcpdump.1
config.status: creating config.h
config.status: executing .devel commands
$ make -s clean
$ make -s CFLAGS=-Werror
$ make install
[ -d /tmp/tcpdump_build.lydjKEci/bin ] || \
    (mkdir -p /tmp/tcpdump_build.lydjKEci/bin; chmod 755 /tmp/tcpdump_build.lydjKEci/bin)
/usr/bin/install -c tcpdump /tmp/tcpdump_build.lydjKEci/bin/tcpdump
[ ! -f "./.devel" ] || /usr/bin/install -c tcpdump /tmp/tcpdump_build.lydjKEci/bin/tcpdump.`cat ./VERSION`
[ -d /tmp/tcpdump_build.lydjKEci/share/man/man1 ] || \
    (mkdir -p /tmp/tcpdump_build.lydjKEci/share/man/man1; chmod 755 /tmp/tcpdump_build.lydjKEci/share/man/man1)
/usr/bin/install -c -m 644 tcpdump.1 /tmp/tcpdump_build.lydjKEci/share/man/man1/tcpdump.1
$ ldd /tmp/tcpdump_build.lydjKEci/bin/tcpdump
	linux-vdso.so.1 (0x00007ffcadbb6000)
	libpcap.so.0.8 => /lib/x86_64-linux-gnu/libpcap.so.0.8 (0x00007fbbf9cbd000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fbbf9acb000)
	/lib64/ld-linux-x86-64.so.2 (0x00007fbbf9ffd000)
$ /tmp/tcpdump_build.lydjKEci/bin/tcpdump -h
tcpdump version 5.0.0-PRE-GIT
libpcap version 1.9.1 (with TPACKET_V3)
64-bit build, 64-bit time_t
Usage: tcpdump [-AbdDefhHIJKlLnNOpqStuUvxX#] [ -B size ] [ -c count ] [--count]
		[ -C file_size ] [ -E algo:secret ] [ -F file ] [ -G seconds ]
		[ -i interface ] [ --immediate-mode ] [ -j tstamptype ]
		[ --lengths ]
		[ -M secret ] [ --number ] [ --print ]
		[ --print-sampling nth ] [ -Q in|out|inout ] [ -r file ]
		[ -s snaplen ] [ -T type ] [ --version ]
		[ -V file ] [ -w file ] [ -W filecount ] [ -y datalinktype ]
		[ --time-stamp-precision precision ] [ --micro ] [ --nano ]
		[ -z postrotate-command ] [ -Z user ] [ expression ]
$ /tmp/tcpdump_build.lydjKEci/bin/tcpdump -D
1.eth0 [Up, Running, Connected]
2.lo [Up, Running, Loopback]
3.any (Pseudo-device that captures on all interfaces) [Up, Running]
4.bluetooth-monitor (Bluetooth Linux Monitor) [Wireless]
5.nflog (Linux netfilter log (NFLOG) interface) [none]
6.nfqueue (Linux netfilter queue (NFQUEUE) interface) [none]
$ make releasetar
No tcpdump-5.0.0-PRE-GIT tag. Archive build from HEAD.
autoreconf identification: 2.69
$ rm -rf /tmp/tcpdump_build.lydjKEci
Command finished with return code: 0

